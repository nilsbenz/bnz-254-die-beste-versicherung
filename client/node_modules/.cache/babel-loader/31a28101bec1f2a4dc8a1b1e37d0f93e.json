{"ast":null,"code":"import _objectSpread from \"/Users/nilsbenz/sources/TBZ/m254/die-beste-versicherung/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nexport default class TaskService {\n  constructor() {\n    this.list = async () => {\n      const res = await fetch(\"/engine-rest/task?processDefinitionKey=Insurance_Test_Process\");\n      return await res.json();\n    };\n\n    this.start = async () => {\n      const res = await fetch(\"/engine-rest/process-definition/key/Insurance_Test_Process/start\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      });\n      return await res.json();\n    };\n\n    this.complete = async (taskId, variables) => {\n      const body = _objectSpread({}, variables, {\n        withVariablesInReturn: true\n      });\n\n      const res = await fetch(`/engine-rest/task/${taskId}/complete`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(body)\n      });\n      return await res.json();\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/nilsbenz/sources/TBZ/m254/die-beste-versicherung/src/services/taskService.ts"],"names":["TaskService","list","res","fetch","json","start","method","headers","body","JSON","stringify","complete","taskId","variables","withVariablesInReturn"],"mappings":";AAMA,eAAe,MAAMA,WAAN,CAAkB;AAAA;AAAA,SAC/BC,IAD+B,GACxB,YAA6B;AAClC,YAAMC,GAAG,GAAG,MAAMC,KAAK,CACrB,+DADqB,CAAvB;AAGA,aAAO,MAAMD,GAAG,CAACE,IAAJ,EAAb;AACD,KAN8B;;AAAA,SAQ/BC,KAR+B,GAQvB,YAA2B;AACjC,YAAMH,GAAG,GAAG,MAAMC,KAAK,CACrB,kEADqB,EAErB;AACEG,QAAAA,MAAM,EAAE,MADV;AAEEC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFX;AAKEC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,EAAf;AALR,OAFqB,CAAvB;AAUA,aAAO,MAAMR,GAAG,CAACE,IAAJ,EAAb;AACD,KApB8B;;AAAA,SAsB/BO,QAtB+B,GAsBpB,OACTC,MADS,EAETC,SAFS,KAGiD;AAC1D,YAAML,IAAI,qBACLK,SADK;AAERC,QAAAA,qBAAqB,EAAE;AAFf,QAAV;;AAIA,YAAMZ,GAAG,GAAG,MAAMC,KAAK,CAAE,qBAAoBS,MAAO,WAA7B,EAAyC;AAC9DN,QAAAA,MAAM,EAAE,MADsD;AAE9DC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFqD;AAK9DC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeF,IAAf;AALwD,OAAzC,CAAvB;AAOA,aAAO,MAAMN,GAAG,CAACE,IAAJ,EAAb;AACD,KAtC8B;AAAA;;AAAA","sourcesContent":["import { Task } from \"../types/Task\";\nimport {\n  RecordDamageVariables,\n  CheckDamageVariables\n} from \"../types/Variables\";\n\nexport default class TaskService {\n  list = async (): Promise<Task[]> => {\n    const res = await fetch(\n      \"/engine-rest/task?processDefinitionKey=Insurance_Test_Process\"\n    );\n    return await res.json();\n  };\n\n  start = async (): Promise<Task> => {\n    const res = await fetch(\n      \"/engine-rest/process-definition/key/Insurance_Test_Process/start\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({})\n      }\n    );\n    return await res.json();\n  };\n\n  complete = async (\n    taskId: string,\n    variables: RecordDamageVariables | CheckDamageVariables\n  ): Promise<RecordDamageVariables | CheckDamageVariables> => {\n    const body = {\n      ...variables,\n      withVariablesInReturn: true\n    };\n    const res = await fetch(`/engine-rest/task/${taskId}/complete`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(body)\n    });\n    return await res.json();\n  };\n}\n"]},"metadata":{},"sourceType":"module"}